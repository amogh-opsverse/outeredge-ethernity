{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\steve\\\\OneDrive\\\\Desktop\\\\outeredge-ethernity-frontend\\\\frontend\\\\src\\\\components\\\\waitingRoom.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WaitingRoom = _ref => {\n  _s();\n  let {\n    setAuth,\n    getConcurrentUsers\n  } = _ref;\n  return function (getConcurrentUsers) {\n    const [waitTime, setWaitTime] = useState(0);\n    async function getConcurrentUsers() {\n      try {\n        const response = await fetch('http://localhost:5000/dashboard', {\n          method: \"GET\",\n          headers: {\n            token: localStorage.token\n          }\n        });\n        const parseResponse = await response.json(); //returns a name\n        setConcurrentUsers(parseResponse);\n      } catch (error) {\n        console.error(error.message);\n      }\n    }\n    async function getWaitTime() {\n      try {\n        const response = await fetch('http://localhost:5000/dashboard', {\n          method: \"GET\",\n          headers: {\n            token: localStorage.token\n          }\n        });\n        const parseResponse = await response.json(); //returns a name\n        setWaitTime(parseResponse);\n      } catch (error) {\n        console.error(error.message);\n      }\n    }\n    const logout = e => {\n      e.preventDefault();\n      localStorage.removeItem(\"token\");\n      setAuth(false);\n    };\n    useEffect(() => {}, []);\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center my-5\",\n        children: \"Waiting Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Place in line: \", concurrentUsers]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Time Remaining: \", waitTime]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn btn-success my-5\",\n        to: \"../checkout\",\n        children: \" Checkout \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary my-5\",\n        onClick: e => logout(e),\n        children: \" Logout \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, _this);\n  }(getConcurrentUsers);\n};\n_s(WaitingRoom, \"UdsWMlCR/ggpACfmiNy4Z/+/1+Q=\");\n_c = WaitingRoom;\nexport default WaitingRoom;\nvar _c;\n$RefreshReg$(_c, \"WaitingRoom\");","map":{"version":3,"names":["React","Fragment","useState","useEffect","Link","WaitingRoom","setAuth","getConcurrentUsers","waitTime","setWaitTime","response","fetch","method","headers","token","localStorage","parseResponse","json","setConcurrentUsers","error","console","message","getWaitTime","logout","e","preventDefault","removeItem","concurrentUsers"],"sources":["C:/Users/steve/OneDrive/Desktop/outeredge-ethernity-frontend/frontend/src/components/waitingRoom.js"],"sourcesContent":["import React, {Fragment, useState, useEffect} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst WaitingRoom = ({setAuth, getConcurrentUsers}) => {\r\n\r\n    \r\n    const [waitTime, setWaitTime] = useState(0);\r\n    \r\n\r\n    async function getConcurrentUsers() {\r\n        try {\r\n            const response = await fetch('http://localhost:5000/dashboard',{\r\n                method: \"GET\",\r\n                headers: {token : localStorage.token}\r\n            });\r\n            const parseResponse = await response.json(); //returns a name\r\n            setConcurrentUsers(parseResponse);\r\n            \r\n        } catch (error) {\r\n            console.error(error.message);\r\n        }\r\n    }\r\n    async function getWaitTime() {\r\n        try {\r\n            const response = await fetch('http://localhost:5000/dashboard',{\r\n                method: \"GET\",\r\n                headers: {token : localStorage.token}\r\n            });\r\n            const parseResponse = await response.json(); //returns a name\r\n            setWaitTime(parseResponse);\r\n            \r\n        } catch (error) {\r\n            console.error(error.message);\r\n        }\r\n    }\r\n    const logout = (e) => {\r\n        e.preventDefault()\r\n        localStorage.removeItem(\"token\");\r\n        setAuth(false);\r\n    }\r\n    useEffect(() => {\r\n        \r\n    },[])\r\n    return(\r\n        <Fragment>\r\n            <h1  className=\"text-center my-5\">Waiting Room</h1>\r\n            <h1>Place in line: {concurrentUsers}</h1>\r\n            <h1>Time Remaining: {waitTime}</h1>\r\n            <Link className= \"btn btn-success my-5\" to=\"../checkout\"> Checkout </Link>\r\n            <button className=\"btn btn-primary my-5\" onClick={(e) => logout(e)}> Logout </button>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default WaitingRoom;"],"mappings":";;;AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAC1D,SAASC,IAAI,QAAQ,kBAAkB;AAAC;AAExC,MAAMC,WAAW,GAAG;EAAA;EAAA,IAAC;IAACC,OAAO;IAAEC;EAAkB,CAAC;EAAA,qCAAK;IAGnD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC;IAG3C,eAAeK,kBAAkB,GAAG;MAChC,IAAI;QACA,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAiC,EAAC;UAC3DC,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YAACC,KAAK,EAAGC,YAAY,CAACD;UAAK;QACxC,CAAC,CAAC;QACF,MAAME,aAAa,GAAG,MAAMN,QAAQ,CAACO,IAAI,EAAE,CAAC,CAAC;QAC7CC,kBAAkB,CAACF,aAAa,CAAC;MAErC,CAAC,CAAC,OAAOG,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAACE,OAAO,CAAC;MAChC;IACJ;IACA,eAAeC,WAAW,GAAG;MACzB,IAAI;QACA,MAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAiC,EAAC;UAC3DC,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YAACC,KAAK,EAAGC,YAAY,CAACD;UAAK;QACxC,CAAC,CAAC;QACF,MAAME,aAAa,GAAG,MAAMN,QAAQ,CAACO,IAAI,EAAE,CAAC,CAAC;QAC7CR,WAAW,CAACO,aAAa,CAAC;MAE9B,CAAC,CAAC,OAAOG,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAACE,OAAO,CAAC;MAChC;IACJ;IACA,MAAME,MAAM,GAAIC,CAAC,IAAK;MAClBA,CAAC,CAACC,cAAc,EAAE;MAClBV,YAAY,CAACW,UAAU,CAAC,OAAO,CAAC;MAChCpB,OAAO,CAAC,KAAK,CAAC;IAClB,CAAC;IACDH,SAAS,CAAC,MAAM,CAEhB,CAAC,EAAC,EAAE,CAAC;IACL,oBACI,QAAC,QAAQ;MAAA,wBACL;QAAK,SAAS,EAAC,kBAAkB;QAAA,UAAC;MAAY;QAAA;QAAA;QAAA;MAAA,SAAK,eACnD;QAAA,WAAI,iBAAe,EAACwB,eAAe;MAAA;QAAA;QAAA;QAAA;MAAA,SAAM,eACzC;QAAA,WAAI,kBAAgB,EAACnB,QAAQ;MAAA;QAAA;QAAA;QAAA;MAAA,SAAM,eACnC,QAAC,IAAI;QAAC,SAAS,EAAE,sBAAsB;QAAC,EAAE,EAAC,aAAa;QAAA,UAAC;MAAU;QAAA;QAAA;QAAA;MAAA,SAAO,eAC1E;QAAQ,SAAS,EAAC,sBAAsB;QAAC,OAAO,EAAGgB,CAAC,IAAKD,MAAM,CAACC,CAAC,CAAE;QAAA,UAAC;MAAQ;QAAA;QAAA;QAAA;MAAA,SAAS;IAAA;MAAA;MAAA;MAAA;IAAA,SAC9E;EAEnB,CAAC;AAAA;AAAC,GAjDInB,WAAW;AAAA,KAAXA,WAAW;AAmDjB,eAAeA,WAAW;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}