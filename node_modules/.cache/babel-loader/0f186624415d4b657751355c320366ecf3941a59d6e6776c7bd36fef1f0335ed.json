{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/steve/OneDrive/Desktop/Todo List/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/steve/OneDrive/Desktop/Todo List/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/steve/OneDrive/Desktop/Todo List/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditTodo=function EditTodo(_ref){var eTodo=_ref.eTodo;console.log(eTodo);var _useState=useState(eTodo.description),_useState2=_slicedToArray(_useState,2),description=_useState2[0],setDescription=_useState2[1];//update description\nvar updateDescription=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var body,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;body={description:description};_context.next=5;return fetch(\"http://localhost:5000/todos/\".concat(eTodo.id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});case 5:response=_context.sent;window.location=\"/\";_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0.message);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function updateDescription(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-warning\",\"data-toggle\":\"modal\",\"data-target\":\"#id\".concat(eTodo.id),children:\"EDIT\"}),/*#__PURE__*/_jsx(\"div\",{class:\"modal\",id:\"id\".concat(eTodo.id),onClick:function onClick(){return setDescription(eTodo.description);},children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"modal-header\",children:/*#__PURE__*/_jsx(\"h4\",{class:\"modal-title\",children:\"Edit Todo\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-body\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-warning\",\"data-dismiss\":\"modal\",onClick:function onClick(e){return updateDescription(e);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-danger\",\"data-dismiss\":\"modal\",onClick:function onClick(){return setDescription(eTodo.description);},children:\"Close\"})]})]})})})]});};export default EditTodo;","map":{"version":3,"names":["React","Fragment","useState","EditTodo","eTodo","console","log","description","setDescription","updateDescription","e","preventDefault","body","fetch","id","method","headers","JSON","stringify","response","window","location","message","target","value"],"sources":["C:/Users/steve/OneDrive/Desktop/Todo List/frontend/src/componets/EditTodo.js"],"sourcesContent":["import React, {Fragment, useState} from \"react\";\r\n\r\n\r\nconst EditTodo = ({eTodo}) => {\r\n    console.log(eTodo);\r\n    const [description, setDescription] = useState(eTodo.description);\r\n\r\n    //update description\r\n    const updateDescription = async(e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const body = {description}\r\n            const response = await fetch(`http://localhost:5000/todos/${eTodo.id}`, {\r\n                method: \"PUT\",\r\n                headers: { \"Content-Type\": \"application/json\"},\r\n                body: JSON.stringify(body)\r\n            });\r\n            window.location = \"/\"\r\n        } catch (error) {\r\n            console.log(error.message);\r\n        }\r\n    };\r\n    return <Fragment>\r\n        {/* <!-- Button to Open the Modal --> */}\r\n        <button \r\n        type=\"button\" \r\n        class=\"btn btn-warning\" \r\n        data-toggle=\"modal\" \r\n        data-target={`#id${eTodo.id}`}>\r\n        EDIT\r\n        </button>\r\n       \r\n        <div class=\"modal\" id={`id${eTodo.id}`} onClick={() => setDescription(eTodo.description)}>\r\n            <div class=\"modal-dialog\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h4 class=\"modal-title\">Edit Todo</h4>\r\n                        {/* <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button> */}\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <input type=\"text\" className=\"form-control\" value={description} onChange={e => setDescription(e.target.value)}/>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-warning\" data-dismiss=\"modal\" onClick={e => updateDescription(e)}>Edit</button>\r\n                        <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\" onClick={() => setDescription(eTodo.description)}>Close</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </Fragment>\r\n};\r\n\r\nexport default EditTodo;"],"mappings":"waAAA,MAAOA,MAAK,EAAGC,QAAQ,CAAEC,QAAQ,KAAO,OAAO,CAAC,wFAGhD,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,MAAgB,IAAXC,MAAK,MAALA,KAAK,CACpBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAClB,cAAsCF,QAAQ,CAACE,KAAK,CAACG,WAAW,CAAC,wCAA1DA,WAAW,eAAEC,cAAc,eAElC;AACA,GAAMC,kBAAiB,6FAAG,iBAAMC,CAAC,qIAC7BA,CAAC,CAACC,cAAc,EAAE,CAAC,gBAETC,IAAI,CAAG,CAACL,WAAW,CAAXA,WAAW,CAAC,uBACHM,MAAK,uCAAgCT,KAAK,CAACU,EAAE,EAAI,CACpEC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAkB,CAAC,CAC9CJ,IAAI,CAAEK,IAAI,CAACC,SAAS,CAACN,IAAI,CAC7B,CAAC,CAAC,QAJIO,QAAQ,eAKdC,MAAM,CAACC,QAAQ,CAAG,GAAG,gFAErBhB,OAAO,CAACC,GAAG,CAAC,YAAMgB,OAAO,CAAC,CAAC,mEAElC,kBAbKb,kBAAiB,6CAatB,CACD,mBAAO,MAAC,QAAQ,yBAEZ,eACA,IAAI,CAAC,QAAQ,CACb,KAAK,CAAC,iBAAiB,CACvB,cAAY,OAAO,CACnB,2BAAmBL,KAAK,CAACU,EAAE,CAAG,UAAC,MAE/B,EAAS,cAET,YAAK,KAAK,CAAC,OAAO,CAAC,EAAE,aAAOV,KAAK,CAACU,EAAE,CAAG,CAAC,OAAO,CAAE,yBAAMN,eAAc,CAACJ,KAAK,CAACG,WAAW,CAAC,EAAC,uBACrF,YAAK,KAAK,CAAC,cAAc,uBACrB,aAAK,KAAK,CAAC,eAAe,wBACtB,YAAK,KAAK,CAAC,cAAc,uBACrB,WAAI,KAAK,CAAC,aAAa,UAAC,WAAS,EAAK,EAEpC,cACN,YAAK,KAAK,CAAC,YAAY,uBACnB,cAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,KAAK,CAAEA,WAAY,CAAC,QAAQ,CAAE,kBAAAG,CAAC,QAAIF,eAAc,CAACE,CAAC,CAACa,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,EAC9G,cACN,aAAK,KAAK,CAAC,cAAc,wBACrB,eAAQ,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,iBAAiB,CAAC,eAAa,OAAO,CAAC,OAAO,CAAE,iBAAAd,CAAC,QAAID,kBAAiB,CAACC,CAAC,CAAC,EAAC,UAAC,MAAI,EAAS,cACpH,eAAQ,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,gBAAgB,CAAC,eAAa,OAAO,CAAC,OAAO,CAAE,yBAAMF,eAAc,CAACJ,KAAK,CAACG,WAAW,CAAC,EAAC,UAAC,OAAK,EAAS,GAChI,GACJ,EACJ,EACJ,GACC,CACf,CAAC,CAED,cAAeJ,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}